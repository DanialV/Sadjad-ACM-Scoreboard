/**
 * Created by Danial Vafadar on 7/28/15.
 */

var mongoose = require('mongoose');
var Schema = mongoose.Schema;

// making schemas for inserting data in mongo
var last_contest_id = Schema({
   last_id : String
});
var codeforces_contests_schmea = Schema({
    contest_id : Number,
    contest_user_info : [{
        participate_score: Number,
        codeforces_username: String,
        questions: [{
            index: String,
            title: String,
            wrongs: Number,
            time: Number
        }],
        max_question: Number
    }],
    contest_question_info : {
        A : Number,
        B : Number,
        C : Number,
        D : Number,
        E : Number,
        F : Number,
        G : Number,
        H : Number,
        I : Number,
        J : Number
    }
});
var users_schema = Schema({
    first_name: String ,
    last_name: String ,
    email: String ,
    student_number : String ,
    codeforces_username : String ,
    score : Number,
    mobile : String ,
    rank: String,
    rating: Number,
    maxRank: String,
    maxRating: Number,
    _verify : Boolean
});
var meeting_schema = Schema({
    user_id : String,
    meeting_number : Number,
    meetings_score : Number
});

logs_schema = Schema({
    log : String
});



module.exports = (function () {
    var _return = {};

    _return.users = mongoose.model('users', users_schema);
    _return.logs = mongoose.model('log', logs_schema);
    _return.codeforces_contests = mongoose.model('codeforces_contests', codeforces_contests_schmea);
    _return.meetings = mongoose.model('meetings', meeting_schema);
    _return.last_id = mongoose.model('last_id', last_contest_id);

    return _return;
})();
